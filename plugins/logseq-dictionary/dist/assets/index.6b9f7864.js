var Sn=Object.defineProperty;var cn=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var vn=(V,G,at)=>G in V?Sn(V,G,{enumerable:!0,configurable:!0,writable:!0,value:at}):V[G]=at,bn=(V,G)=>{for(var at in G||(G={}))_n.call(G,at)&&vn(V,at,G[at]);if(cn)for(var at of cn(G))wn.call(G,at)&&vn(V,at,G[at]);return V};var xn=(V,G)=>{var at={};for(var ut in V)_n.call(V,ut)&&G.indexOf(ut)<0&&(at[ut]=V[ut]);if(V!=null&&cn)for(var ut of cn(V))G.indexOf(ut)<0&&wn.call(V,ut)&&(at[ut]=V[ut]);return at};var U=(V,G,at)=>(vn(V,typeof G!="symbol"?G+"":G,at),at);const On=function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const J of document.querySelectorAll('link[rel="modulepreload"]'))ut(J);new MutationObserver(J=>{for(const _t of J)if(_t.type==="childList")for(const M of _t.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&ut(M)}).observe(document,{childList:!0,subtree:!0});function at(J){const _t={};return J.integrity&&(_t.integrity=J.integrity),J.referrerpolicy&&(_t.referrerPolicy=J.referrerpolicy),J.crossorigin==="use-credentials"?_t.credentials="include":J.crossorigin==="anonymous"?_t.credentials="omit":_t.credentials="same-origin",_t}function ut(J){if(J.ep)return;J.ep=!0;const _t=at(J);fetch(J.href,_t)}};On();var ln=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Cn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(V,G){(function(at,ut){V.exports=ut()})(self,function(){return(()=>{var at={227:(M,f,w)=>{var j=w(155);f.formatArgs=function(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+M.exports.humanize(this.diff),!this.useColors)return;const L="color: "+this.color;k.splice(1,0,L,"color: inherit");let h=0,l=0;k[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(h++,m==="%c"&&(l=h))}),k.splice(l,0,L)},f.save=function(k){try{k?f.storage.setItem("debug",k):f.storage.removeItem("debug")}catch{}},f.load=function(){let k;try{k=f.storage.getItem("debug")}catch{}return!k&&j!==void 0&&"env"in j&&(k=j.env.DEBUG),k},f.useColors=function(){return!(typeof window=="undefined"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator=="undefined"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},f.storage=function(){try{return localStorage}catch{}}(),f.destroy=(()=>{let k=!1;return()=>{k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],f.log=console.debug||console.log||(()=>{}),M.exports=w(447)(f);const{formatters:y}=M.exports;y.j=function(k){try{return JSON.stringify(k)}catch(L){return"[UnexpectedJSONParseError]: "+L.message}}},447:(M,f,w)=>{M.exports=function(j){function y(h){let l,m=null;function g(...I){if(!g.enabled)return;const H=g,$=Number(new Date),W=$-(l||$);H.diff=W,H.prev=l,H.curr=$,l=$,I[0]=y.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let x=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(E,i)=>{if(E==="%%")return"%";x++;const a=y.formatters[i];if(typeof a=="function"){const d=I[x];E=a.call(H,d),I.splice(x,1),x--}return E}),y.formatArgs.call(H,I),(H.log||y.log).apply(H,I)}return g.namespace=h,g.useColors=y.useColors(),g.color=y.selectColor(h),g.extend=k,g.destroy=y.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>m===null?y.enabled(h):m,set:I=>{m=I}}),typeof y.init=="function"&&y.init(g),g}function k(h,l){const m=y(this.namespace+(l===void 0?":":l)+h);return m.log=this.log,m}function L(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}return y.debug=y,y.default=y,y.coerce=function(h){return h instanceof Error?h.stack||h.message:h},y.disable=function(){const h=[...y.names.map(L),...y.skips.map(L).map(l=>"-"+l)].join(",");return y.enable(""),h},y.enable=function(h){let l;y.save(h),y.names=[],y.skips=[];const m=(typeof h=="string"?h:"").split(/[\s,]+/),g=m.length;for(l=0;l<g;l++)m[l]&&((h=m[l].replace(/\*/g,".*?"))[0]==="-"?y.skips.push(new RegExp("^"+h.substr(1)+"$")):y.names.push(new RegExp("^"+h+"$")))},y.enabled=function(h){if(h[h.length-1]==="*")return!0;let l,m;for(l=0,m=y.skips.length;l<m;l++)if(y.skips[l].test(h))return!1;for(l=0,m=y.names.length;l<m;l++)if(y.names[l].test(h))return!0;return!1},y.humanize=w(824),y.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(j).forEach(h=>{y[h]=j[h]}),y.names=[],y.skips=[],y.formatters={},y.selectColor=function(h){let l=0;for(let m=0;m<h.length;m++)l=(l<<5)-l+h.charCodeAt(m),l|=0;return y.colors[Math.abs(l)%y.colors.length]},y.enable(y.load()),y}},856:function(M){M.exports=function(){var f=Object.hasOwnProperty,w=Object.setPrototypeOf,j=Object.isFrozen,y=Object.getPrototypeOf,k=Object.getOwnPropertyDescriptor,L=Object.freeze,h=Object.seal,l=Object.create,m=typeof Reflect!="undefined"&&Reflect,g=m.apply,I=m.construct;g||(g=function(R,P,T){return R.apply(P,T)}),L||(L=function(R){return R}),h||(h=function(R){return R}),I||(I=function(R,P){return new(Function.prototype.bind.apply(R,[null].concat(function(T){if(Array.isArray(T)){for(var rt=0,ot=Array(T.length);rt<T.length;rt++)ot[rt]=T[rt];return ot}return Array.from(T)}(P))))});var H,$=Z(Array.prototype.forEach),W=Z(Array.prototype.pop),x=Z(Array.prototype.push),E=Z(String.prototype.toLowerCase),i=Z(String.prototype.match),a=Z(String.prototype.replace),d=Z(String.prototype.indexOf),S=Z(String.prototype.trim),B=Z(RegExp.prototype.test),Y=(H=TypeError,function(){for(var R=arguments.length,P=Array(R),T=0;T<R;T++)P[T]=arguments[T];return I(H,P)});function Z(R){return function(P){for(var T=arguments.length,rt=Array(T>1?T-1:0),ot=1;ot<T;ot++)rt[ot-1]=arguments[ot];return g(R,P,rt)}}function N(R,P){w&&w(R,null);for(var T=P.length;T--;){var rt=P[T];if(typeof rt=="string"){var ot=E(rt);ot!==rt&&(j(P)||(P[T]=ot),rt=ot)}R[rt]=!0}return R}function ft(R){var P=l(null),T=void 0;for(T in R)g(f,R,[T])&&(P[T]=R[T]);return P}function mt(R,P){for(;R!==null;){var T=k(R,P);if(T){if(T.get)return Z(T.get);if(typeof T.value=="function")return Z(T.value)}R=y(R)}return function(rt){return console.warn("fallback value for",rt),null}}var Dt=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qt=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),c=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),b=L(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nt=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ct=L(["#text"]),pt=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),K=L(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ct=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dt=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yt=h(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Wt=h(/<%[\s\S]*|[\s\S]*%>/gm),Et=h(/^data-[\-\w.\u00B7-\uFFFF]/),ht=h(/^aria-[\-\w]+$/),tt=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),St=h(/^(?:\w+script|data):/i),Lt=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function wt(R){if(Array.isArray(R)){for(var P=0,T=Array(R.length);P<R.length;P++)T[P]=R[P];return T}return Array.from(R)}var $t=function(){return typeof window=="undefined"?null:window},le=function(R,P){if((R===void 0?"undefined":Ft(R))!=="object"||typeof R.createPolicy!="function")return null;var T=null,rt="data-tt-policy-suffix";P.currentScript&&P.currentScript.hasAttribute(rt)&&(T=P.currentScript.getAttribute(rt));var ot="dompurify"+(T?"#"+T:"");try{return R.createPolicy(ot,{createHTML:function(Gt){return Gt}})}catch{return console.warn("TrustedTypes policy "+ot+" could not be created."),null}};return function R(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t(),T=function(o){return R(o)};if(T.version="2.3.1",T.removed=[],!P||!P.document||P.document.nodeType!==9)return T.isSupported=!1,T;var rt=P.document,ot=P.document,Gt=P.DocumentFragment,Pe=P.HTMLTemplateElement,re=P.Node,Re=P.Element,ue=P.NodeFilter,Jt=P.NamedNodeMap,De=Jt===void 0?P.NamedNodeMap||P.MozNamedAttrMap:Jt,Ue=P.Text,un=P.Comment,fn=P.DOMParser,Ae=P.trustedTypes,Zt=Re.prototype,ze=mt(Zt,"cloneNode"),Te=mt(Zt,"nextSibling"),$e=mt(Zt,"childNodes"),fe=mt(Zt,"parentNode");if(typeof Pe=="function"){var pe=ot.createElement("template");pe.content&&pe.content.ownerDocument&&(ot=pe.content.ownerDocument)}var It=le(Ae,rt),He=It&&Xt?It.createHTML(""):"",de=ot,he=de.implementation,pn=de.createNodeIterator,dn=de.createDocumentFragment,et=de.getElementsByTagName,Be=rt.importNode,Kt={};try{Kt=ft(ot).documentMode?ot.documentMode:{}}catch{}var Tt={};T.isSupported=typeof fe=="function"&&he&&he.createHTMLDocument!==void 0&&Kt!==9;var ge=yt,me=Wt,qe=Et,je=ht,hn=St,We=Lt,ke=tt,vt=null,Ge=N({},[].concat(wt(Dt),wt(qt),wt(c),wt(F),wt(Ct))),xt=null,Je=N({},[].concat(wt(pt),wt(K),wt(ct),wt(dt))),Ee=null,ye=null,Ze=!0,Fe=!0,Ke=!1,Ht=!1,Vt=!1,ve=!1,Le=!1,Yt=!1,be=!1,Ve=!0,Xt=!1,_e=!0,Ie=!0,oe=!1,Qt={},Bt=null,Me=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ie=null,Ye=N({},["audio","video","img","source","image","track"]),se=null,Xe=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),we="http://www.w3.org/1998/Math/MathML",Mt="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml",xe=Ut,Ce=!1,te=null,gn=ot.createElement("form"),ae=function(o){te&&te===o||(o&&(o===void 0?"undefined":Ft(o))==="object"||(o={}),o=ft(o),vt="ALLOWED_TAGS"in o?N({},o.ALLOWED_TAGS):Ge,xt="ALLOWED_ATTR"in o?N({},o.ALLOWED_ATTR):Je,se="ADD_URI_SAFE_ATTR"in o?N(ft(Xe),o.ADD_URI_SAFE_ATTR):Xe,ie="ADD_DATA_URI_TAGS"in o?N(ft(Ye),o.ADD_DATA_URI_TAGS):Ye,Bt="FORBID_CONTENTS"in o?N({},o.FORBID_CONTENTS):Me,Ee="FORBID_TAGS"in o?N({},o.FORBID_TAGS):{},ye="FORBID_ATTR"in o?N({},o.FORBID_ATTR):{},Qt="USE_PROFILES"in o&&o.USE_PROFILES,Ze=o.ALLOW_ARIA_ATTR!==!1,Fe=o.ALLOW_DATA_ATTR!==!1,Ke=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Ht=o.SAFE_FOR_TEMPLATES||!1,Vt=o.WHOLE_DOCUMENT||!1,Yt=o.RETURN_DOM||!1,be=o.RETURN_DOM_FRAGMENT||!1,Ve=o.RETURN_DOM_IMPORT!==!1,Xt=o.RETURN_TRUSTED_TYPE||!1,Le=o.FORCE_BODY||!1,_e=o.SANITIZE_DOM!==!1,Ie=o.KEEP_CONTENT!==!1,oe=o.IN_PLACE||!1,ke=o.ALLOWED_URI_REGEXP||ke,xe=o.NAMESPACE||Ut,Ht&&(Fe=!1),be&&(Yt=!0),Qt&&(vt=N({},[].concat(wt(Ct))),xt=[],Qt.html===!0&&(N(vt,Dt),N(xt,pt)),Qt.svg===!0&&(N(vt,qt),N(xt,K),N(xt,dt)),Qt.svgFilters===!0&&(N(vt,c),N(xt,K),N(xt,dt)),Qt.mathMl===!0&&(N(vt,F),N(xt,ct),N(xt,dt))),o.ADD_TAGS&&(vt===Ge&&(vt=ft(vt)),N(vt,o.ADD_TAGS)),o.ADD_ATTR&&(xt===Je&&(xt=ft(xt)),N(xt,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&N(se,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(Bt===Me&&(Bt=ft(Bt)),N(Bt,o.FORBID_CONTENTS)),Ie&&(vt["#text"]=!0),Vt&&N(vt,["html","head","body"]),vt.table&&(N(vt,["tbody"]),delete Ee.tbody),L&&L(o),te=o)},Qe=N({},["mi","mo","mn","ms","mtext"]),tn=N({},["foreignobject","desc","title","annotation-xml"]),ee=N({},qt);N(ee,c),N(ee,b);var Ne=N({},F);N(Ne,nt);var mn=function(o){var O=fe(o);O&&O.tagName||(O={namespaceURI:Ut,tagName:"template"});var _=E(o.tagName),X=E(O.tagName);if(o.namespaceURI===Mt)return O.namespaceURI===Ut?_==="svg":O.namespaceURI===we?_==="svg"&&(X==="annotation-xml"||Qe[X]):Boolean(ee[_]);if(o.namespaceURI===we)return O.namespaceURI===Ut?_==="math":O.namespaceURI===Mt?_==="math"&&tn[X]:Boolean(Ne[_]);if(o.namespaceURI===Ut){if(O.namespaceURI===Mt&&!tn[X]||O.namespaceURI===we&&!Qe[X])return!1;var it=N({},["title","style","font","a","script"]);return!Ne[_]&&(it[_]||!ee[_])}return!1},Nt=function(o){x(T.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=He}catch{o.remove()}}},en=function(o,O){try{x(T.removed,{attribute:O.getAttributeNode(o),from:O})}catch{x(T.removed,{attribute:null,from:O})}if(O.removeAttribute(o),o==="is"&&!xt[o])if(Yt||be)try{Nt(O)}catch{}else try{O.setAttribute(o,"")}catch{}},Pt=function(o){var O=void 0,_=void 0;if(Le)o="<remove></remove>"+o;else{var X=i(o,/^[\r\n\t ]+/);_=X&&X[0]}var it=It?It.createHTML(o):o;if(xe===Ut)try{O=new fn().parseFromString(it,"text/html")}catch{}if(!O||!O.documentElement){O=he.createDocument(xe,"template",null);try{O.documentElement.innerHTML=Ce?"":it}catch{}}var Ot=O.body||O.documentElement;return o&&_&&Ot.insertBefore(ot.createTextNode(_),Ot.childNodes[0]||null),xe===Ut?et.call(O,Vt?"html":"body")[0]:Vt?O.documentElement:Ot},ce=function(o){return pn.call(o.ownerDocument||o,o,ue.SHOW_ELEMENT|ue.SHOW_COMMENT|ue.SHOW_TEXT,null,!1)},nn=function(o){return!(o instanceof Ue||o instanceof un||typeof o.nodeName=="string"&&typeof o.textContent=="string"&&typeof o.removeChild=="function"&&o.attributes instanceof De&&typeof o.removeAttribute=="function"&&typeof o.setAttribute=="function"&&typeof o.namespaceURI=="string"&&typeof o.insertBefore=="function")},zt=function(o){return(re===void 0?"undefined":Ft(re))==="object"?o instanceof re:o&&(o===void 0?"undefined":Ft(o))==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},Rt=function(o,O,_){Tt[o]&&$(Tt[o],function(X){X.call(T,O,_,te)})},rn=function(o){var O=void 0;if(Rt("beforeSanitizeElements",o,null),nn(o)||i(o.nodeName,/[\u0080-\uFFFF]/))return Nt(o),!0;var _=E(o.nodeName);if(Rt("uponSanitizeElement",o,{tagName:_,allowedTags:vt}),!zt(o.firstElementChild)&&(!zt(o.content)||!zt(o.content.firstElementChild))&&B(/<[/\w]/g,o.innerHTML)&&B(/<[/\w]/g,o.textContent)||_==="select"&&B(/<template/i,o.innerHTML))return Nt(o),!0;if(!vt[_]||Ee[_]){if(Ie&&!Bt[_]){var X=fe(o)||o.parentNode,it=$e(o)||o.childNodes;if(it&&X)for(var Ot=it.length-1;Ot>=0;--Ot)X.insertBefore(ze(it[Ot],!0),Te(o))}return Nt(o),!0}return o instanceof Re&&!mn(o)?(Nt(o),!0):_!=="noscript"&&_!=="noembed"||!B(/<\/no(script|embed)/i,o.innerHTML)?(Ht&&o.nodeType===3&&(O=o.textContent,O=a(O,ge," "),O=a(O,me," "),o.textContent!==O&&(x(T.removed,{element:o.cloneNode()}),o.textContent=O)),Rt("afterSanitizeElements",o,null),!1):(Nt(o),!0)},on=function(o,O,_){if(_e&&(O==="id"||O==="name")&&(_ in ot||_ in gn))return!1;if(!(Fe&&!ye[O]&&B(qe,O))){if(!(Ze&&B(je,O))){if(!xt[O]||ye[O])return!1;if(!se[O]){if(!B(ke,a(_,We,""))){if((O!=="src"&&O!=="xlink:href"&&O!=="href"||o==="script"||d(_,"data:")!==0||!ie[o])&&!(Ke&&!B(hn,a(_,We,"")))){if(_)return!1}}}}}return!0},sn=function(o){var O=void 0,_=void 0,X=void 0,it=void 0;Rt("beforeSanitizeAttributes",o,null);var Ot=o.attributes;if(Ot){var bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xt};for(it=Ot.length;it--;){var Se=O=Ot[it],jt=Se.name,Oe=Se.namespaceURI;if(_=S(O.value),X=E(jt),bt.attrName=X,bt.attrValue=_,bt.keepAttr=!0,bt.forceKeepAttr=void 0,Rt("uponSanitizeAttribute",o,bt),_=bt.attrValue,!bt.forceKeepAttr&&(en(jt,o),bt.keepAttr))if(B(/\/>/i,_))en(jt,o);else{Ht&&(_=a(_,ge," "),_=a(_,me," "));var an=o.nodeName.toLowerCase();if(on(an,X,_))try{Oe?o.setAttributeNS(Oe,jt,_):o.setAttribute(jt,_),W(T.removed)}catch{}}}Rt("afterSanitizeAttributes",o,null)}},yn=function o(O){var _=void 0,X=ce(O);for(Rt("beforeSanitizeShadowDOM",O,null);_=X.nextNode();)Rt("uponSanitizeShadowNode",_,null),rn(_)||(_.content instanceof Gt&&o(_.content),sn(_));Rt("afterSanitizeShadowDOM",O,null)};return T.sanitize=function(o,O){var _=void 0,X=void 0,it=void 0,Ot=void 0,bt=void 0;if((Ce=!o)&&(o="<!-->"),typeof o!="string"&&!zt(o)){if(typeof o.toString!="function")throw Y("toString is not a function");if(typeof(o=o.toString())!="string")throw Y("dirty is not a string, aborting")}if(!T.isSupported){if(Ft(P.toStaticHTML)==="object"||typeof P.toStaticHTML=="function"){if(typeof o=="string")return P.toStaticHTML(o);if(zt(o))return P.toStaticHTML(o.outerHTML)}return o}if(ve||ae(O),T.removed=[],typeof o=="string"&&(oe=!1),!oe)if(o instanceof re)(X=(_=Pt("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&X.nodeName==="BODY"||X.nodeName==="HTML"?_=X:_.appendChild(X);else{if(!Yt&&!Ht&&!Vt&&o.indexOf("<")===-1)return It&&Xt?It.createHTML(o):o;if(!(_=Pt(o)))return Yt?null:He}_&&Le&&Nt(_.firstChild);for(var Se=ce(oe?o:_);it=Se.nextNode();)it.nodeType===3&&it===Ot||rn(it)||(it.content instanceof Gt&&yn(it.content),sn(it),Ot=it);if(Ot=null,oe)return o;if(Yt){if(be)for(bt=dn.call(_.ownerDocument);_.firstChild;)bt.appendChild(_.firstChild);else bt=_;return Ve&&(bt=Be.call(rt,bt,!0)),bt}var jt=Vt?_.outerHTML:_.innerHTML;return Ht&&(jt=a(jt,ge," "),jt=a(jt,me," ")),It&&Xt?It.createHTML(jt):jt},T.setConfig=function(o){ae(o),ve=!0},T.clearConfig=function(){te=null,ve=!1},T.isValidAttribute=function(o,O,_){te||ae({});var X=E(o),it=E(O);return on(X,it,_)},T.addHook=function(o,O){typeof O=="function"&&(Tt[o]=Tt[o]||[],x(Tt[o],O))},T.removeHook=function(o){Tt[o]&&W(Tt[o])},T.removeHooks=function(o){Tt[o]&&(Tt[o]=[])},T.removeAllHooks=function(){Tt={}},T}()}()},729:M=>{var f=Object.prototype.hasOwnProperty,w="~";function j(){}function y(l,m,g){this.fn=l,this.context=m,this.once=g||!1}function k(l,m,g,I,H){if(typeof g!="function")throw new TypeError("The listener must be a function");var $=new y(g,I||l,H),W=w?w+m:m;return l._events[W]?l._events[W].fn?l._events[W]=[l._events[W],$]:l._events[W].push($):(l._events[W]=$,l._eventsCount++),l}function L(l,m){--l._eventsCount==0?l._events=new j:delete l._events[m]}function h(){this._events=new j,this._eventsCount=0}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(w=!1)),h.prototype.eventNames=function(){var l,m,g=[];if(this._eventsCount===0)return g;for(m in l=this._events)f.call(l,m)&&g.push(w?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(l)):g},h.prototype.listeners=function(l){var m=w?w+l:l,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var I=0,H=g.length,$=new Array(H);I<H;I++)$[I]=g[I].fn;return $},h.prototype.listenerCount=function(l){var m=w?w+l:l,g=this._events[m];return g?g.fn?1:g.length:0},h.prototype.emit=function(l,m,g,I,H,$){var W=w?w+l:l;if(!this._events[W])return!1;var x,E,i=this._events[W],a=arguments.length;if(i.fn){switch(i.once&&this.removeListener(l,i.fn,void 0,!0),a){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,m),!0;case 3:return i.fn.call(i.context,m,g),!0;case 4:return i.fn.call(i.context,m,g,I),!0;case 5:return i.fn.call(i.context,m,g,I,H),!0;case 6:return i.fn.call(i.context,m,g,I,H,$),!0}for(E=1,x=new Array(a-1);E<a;E++)x[E-1]=arguments[E];i.fn.apply(i.context,x)}else{var d,S=i.length;for(E=0;E<S;E++)switch(i[E].once&&this.removeListener(l,i[E].fn,void 0,!0),a){case 1:i[E].fn.call(i[E].context);break;case 2:i[E].fn.call(i[E].context,m);break;case 3:i[E].fn.call(i[E].context,m,g);break;case 4:i[E].fn.call(i[E].context,m,g,I);break;default:if(!x)for(d=1,x=new Array(a-1);d<a;d++)x[d-1]=arguments[d];i[E].fn.apply(i[E].context,x)}}return!0},h.prototype.on=function(l,m,g){return k(this,l,m,g,!1)},h.prototype.once=function(l,m,g){return k(this,l,m,g,!0)},h.prototype.removeListener=function(l,m,g,I){var H=w?w+l:l;if(!this._events[H])return this;if(!m)return L(this,H),this;var $=this._events[H];if($.fn)$.fn!==m||I&&!$.once||g&&$.context!==g||L(this,H);else{for(var W=0,x=[],E=$.length;W<E;W++)($[W].fn!==m||I&&!$[W].once||g&&$[W].context!==g)&&x.push($[W]);x.length?this._events[H]=x.length===1?x[0]:x:L(this,H)}return this},h.prototype.removeAllListeners=function(l){var m;return l?(m=w?w+l:l,this._events[m]&&L(this,m)):(this._events=new j,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=w,h.EventEmitter=h,M.exports=h},717:M=>{typeof Object.create=="function"?M.exports=function(f,w){f.super_=w,f.prototype=Object.create(w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:M.exports=function(f,w){f.super_=w;var j=function(){};j.prototype=w.prototype,f.prototype=new j,f.prototype.constructor=f}},824:M=>{var f=1e3,w=60*f,j=60*w,y=24*j;function k(L,h,l,m){var g=h>=1.5*l;return Math.round(L/l)+" "+m+(g?"s":"")}M.exports=function(L,h){h=h||{};var l,m,g=typeof L;if(g==="string"&&L.length>0)return function(I){if(!((I=String(I)).length>100)){var H=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(I);if(H){var $=parseFloat(H[1]);switch((H[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*$;case"weeks":case"week":case"w":return 6048e5*$;case"days":case"day":case"d":return $*y;case"hours":case"hour":case"hrs":case"hr":case"h":return $*j;case"minutes":case"minute":case"mins":case"min":case"m":return $*w;case"seconds":case"second":case"secs":case"sec":case"s":return $*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return $;default:return}}}}(L);if(g==="number"&&isFinite(L))return h.long?(l=L,(m=Math.abs(l))>=y?k(l,m,y,"day"):m>=j?k(l,m,j,"hour"):m>=w?k(l,m,w,"minute"):m>=f?k(l,m,f,"second"):l+" ms"):function(I){var H=Math.abs(I);return H>=y?Math.round(I/y)+"d":H>=j?Math.round(I/j)+"h":H>=w?Math.round(I/w)+"m":H>=f?Math.round(I/f)+"s":I+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},520:(M,f,w)=>{var j=w(155),y=j.platform==="win32",k=w(539);function L(i,a){for(var d=[],S=0;S<i.length;S++){var B=i[S];B&&B!=="."&&(B===".."?d.length&&d[d.length-1]!==".."?d.pop():a&&d.push(".."):d.push(B))}return d}function h(i){for(var a=i.length-1,d=0;d<=a&&!i[d];d++);for(var S=a;S>=0&&!i[S];S--);return d===0&&S===a?i:d>S?[]:i.slice(d,S+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,m=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,g={};function I(i){var a=l.exec(i),d=(a[1]||"")+(a[2]||""),S=a[3]||"",B=m.exec(S);return[d,B[1],B[2],B[3]]}function H(i){var a=l.exec(i),d=a[1]||"",S=!!d&&d[1]!==":";return{device:d,isUnc:S,isAbsolute:S||!!a[2],tail:a[3]}}function $(i){return"\\\\"+i.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}g.resolve=function(){for(var i="",a="",d=!1,S=arguments.length-1;S>=-1;S--){var B;if(S>=0?B=arguments[S]:i?(B=j.env["="+i])&&B.substr(0,3).toLowerCase()===i.toLowerCase()+"\\"||(B=i+"\\"):B=j.cwd(),!k.isString(B))throw new TypeError("Arguments to path.resolve must be strings");if(B){var Y=H(B),Z=Y.device,N=Y.isUnc,ft=Y.isAbsolute,mt=Y.tail;if((!Z||!i||Z.toLowerCase()===i.toLowerCase())&&(i||(i=Z),d||(a=mt+"\\"+a,d=ft),i&&d))break}}return N&&(i=$(i)),i+(d?"\\":"")+(a=L(a.split(/[\\\/]+/),!d).join("\\"))||"."},g.normalize=function(i){var a=H(i),d=a.device,S=a.isUnc,B=a.isAbsolute,Y=a.tail,Z=/[\\\/]$/.test(Y);return(Y=L(Y.split(/[\\\/]+/),!B).join("\\"))||B||(Y="."),Y&&Z&&(Y+="\\"),S&&(d=$(d)),d+(B?"\\":"")+Y},g.isAbsolute=function(i){return H(i).isAbsolute},g.join=function(){for(var i=[],a=0;a<arguments.length;a++){var d=arguments[a];if(!k.isString(d))throw new TypeError("Arguments to path.join must be strings");d&&i.push(d)}var S=i.join("\\");return/^[\\\/]{2}[^\\\/]/.test(i[0])||(S=S.replace(/^[\\\/]{2,}/,"\\")),g.normalize(S)},g.relative=function(i,a){i=g.resolve(i),a=g.resolve(a);for(var d=i.toLowerCase(),S=a.toLowerCase(),B=h(a.split("\\")),Y=h(d.split("\\")),Z=h(S.split("\\")),N=Math.min(Y.length,Z.length),ft=N,mt=0;mt<N;mt++)if(Y[mt]!==Z[mt]){ft=mt;break}if(ft==0)return a;var Dt=[];for(mt=ft;mt<Y.length;mt++)Dt.push("..");return(Dt=Dt.concat(B.slice(ft))).join("\\")},g._makeLong=function(i){if(!k.isString(i))return i;if(!i)return"";var a=g.resolve(i);return/^[a-zA-Z]\:\\/.test(a)?"\\\\?\\"+a:/^\\\\[^?.]/.test(a)?"\\\\?\\UNC\\"+a.substring(2):i},g.dirname=function(i){var a=I(i),d=a[0],S=a[1];return d||S?(S&&(S=S.substr(0,S.length-1)),d+S):"."},g.basename=function(i,a){var d=I(i)[2];return a&&d.substr(-1*a.length)===a&&(d=d.substr(0,d.length-a.length)),d},g.extname=function(i){return I(i)[3]},g.format=function(i){if(!k.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var a=i.root||"";if(!k.isString(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);var d=i.dir,S=i.base||"";return d?d[d.length-1]===g.sep?d+S:d+g.sep+S:S},g.parse=function(i){if(!k.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var a=I(i);if(!a||a.length!==4)throw new TypeError("Invalid path '"+i+"'");return{root:a[0],dir:a[0]+a[1].slice(0,-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},g.sep="\\",g.delimiter=";";var W=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,x={};function E(i){return W.exec(i).slice(1)}x.resolve=function(){for(var i="",a=!1,d=arguments.length-1;d>=-1&&!a;d--){var S=d>=0?arguments[d]:j.cwd();if(!k.isString(S))throw new TypeError("Arguments to path.resolve must be strings");S&&(i=S+"/"+i,a=S[0]==="/")}return(a?"/":"")+(i=L(i.split("/"),!a).join("/"))||"."},x.normalize=function(i){var a=x.isAbsolute(i),d=i&&i[i.length-1]==="/";return(i=L(i.split("/"),!a).join("/"))||a||(i="."),i&&d&&(i+="/"),(a?"/":"")+i},x.isAbsolute=function(i){return i.charAt(0)==="/"},x.join=function(){for(var i="",a=0;a<arguments.length;a++){var d=arguments[a];if(!k.isString(d))throw new TypeError("Arguments to path.join must be strings");d&&(i+=i?"/"+d:d)}return x.normalize(i)},x.relative=function(i,a){i=x.resolve(i).substr(1),a=x.resolve(a).substr(1);for(var d=h(i.split("/")),S=h(a.split("/")),B=Math.min(d.length,S.length),Y=B,Z=0;Z<B;Z++)if(d[Z]!==S[Z]){Y=Z;break}var N=[];for(Z=Y;Z<d.length;Z++)N.push("..");return(N=N.concat(S.slice(Y))).join("/")},x._makeLong=function(i){return i},x.dirname=function(i){var a=E(i),d=a[0],S=a[1];return d||S?(S&&(S=S.substr(0,S.length-1)),d+S):"."},x.basename=function(i,a){var d=E(i)[2];return a&&d.substr(-1*a.length)===a&&(d=d.substr(0,d.length-a.length)),d},x.extname=function(i){return E(i)[3]},x.format=function(i){if(!k.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var a=i.root||"";if(!k.isString(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);return(i.dir?i.dir+x.sep:"")+(i.base||"")},x.parse=function(i){if(!k.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var a=E(i);if(!a||a.length!==4)throw new TypeError("Invalid path '"+i+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},x.sep="/",x.delimiter=":",M.exports=y?g:x,M.exports.posix=x,M.exports.win32=g},155:M=>{var f,w,j=M.exports={};function y(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}function L(x){if(f===setTimeout)return setTimeout(x,0);if((f===y||!f)&&setTimeout)return f=setTimeout,setTimeout(x,0);try{return f(x,0)}catch{try{return f.call(null,x,0)}catch{return f.call(this,x,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:y}catch{f=y}try{w=typeof clearTimeout=="function"?clearTimeout:k}catch{w=k}})();var h,l=[],m=!1,g=-1;function I(){m&&h&&(m=!1,h.length?l=h.concat(l):g=-1,l.length&&H())}function H(){if(!m){var x=L(I);m=!0;for(var E=l.length;E;){for(h=l,l=[];++g<E;)h&&h[g].run();g=-1,E=l.length}h=null,m=!1,function(i){if(w===clearTimeout)return clearTimeout(i);if((w===k||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(i);try{w(i)}catch{try{return w.call(null,i)}catch{return w.call(this,i)}}}(x)}}function $(x,E){this.fun=x,this.array=E}function W(){}j.nextTick=function(x){var E=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)E[i-1]=arguments[i];l.push(new $(x,E)),l.length!==1||m||L(H)},$.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=W,j.addListener=W,j.once=W,j.off=W,j.removeListener=W,j.removeAllListeners=W,j.emit=W,j.prependListener=W,j.prependOnceListener=W,j.listeners=function(x){return[]},j.binding=function(x){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(x){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},384:M=>{M.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},539:(M,f,w)=>{var j=w(155),y=/%[sdj%]/g;f.format=function(c){if(!i(c)){for(var b=[],F=0;F<arguments.length;F++)b.push(h(arguments[F]));return b.join(" ")}F=1;for(var nt=arguments,Ct=nt.length,pt=String(c).replace(y,function(ct){if(ct==="%%")return"%";if(F>=Ct)return ct;switch(ct){case"%s":return String(nt[F++]);case"%d":return Number(nt[F++]);case"%j":try{return JSON.stringify(nt[F++])}catch{return"[Circular]"}default:return ct}}),K=nt[F];F<Ct;K=nt[++F])x(K)||!S(K)?pt+=" "+K:pt+=" "+h(K);return pt},f.deprecate=function(c,b){if(a(w.g.process))return function(){return f.deprecate(c,b).apply(this,arguments)};if(j.noDeprecation===!0)return c;var F=!1;return function(){if(!F){if(j.throwDeprecation)throw new Error(b);j.traceDeprecation?console.trace(b):console.error(b),F=!0}return c.apply(this,arguments)}};var k,L={};function h(c,b){var F={seen:[],stylize:m};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),W(b)?F.showHidden=b:b&&f._extend(F,b),a(F.showHidden)&&(F.showHidden=!1),a(F.depth)&&(F.depth=2),a(F.colors)&&(F.colors=!1),a(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=l),g(F,c,F.depth)}function l(c,b){var F=h.styles[b];return F?"\x1B["+h.colors[F][0]+"m"+c+"\x1B["+h.colors[F][1]+"m":c}function m(c,b){return c}function g(c,b,F){if(c.customInspect&&b&&Z(b.inspect)&&b.inspect!==f.inspect&&(!b.constructor||b.constructor.prototype!==b)){var nt=b.inspect(F,c);return i(nt)||(nt=g(c,nt,F)),nt}var Ct=function(ht,tt){if(a(tt))return ht.stylize("undefined","undefined");if(i(tt)){var St="'"+JSON.stringify(tt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ht.stylize(St,"string")}return E(tt)?ht.stylize(""+tt,"number"):W(tt)?ht.stylize(""+tt,"boolean"):x(tt)?ht.stylize("null","null"):void 0}(c,b);if(Ct)return Ct;var pt=Object.keys(b),K=function(ht){var tt={};return ht.forEach(function(St,Lt){tt[St]=!0}),tt}(pt);if(c.showHidden&&(pt=Object.getOwnPropertyNames(b)),Y(b)&&(pt.indexOf("message")>=0||pt.indexOf("description")>=0))return I(b);if(pt.length===0){if(Z(b)){var ct=b.name?": "+b.name:"";return c.stylize("[Function"+ct+"]","special")}if(d(b))return c.stylize(RegExp.prototype.toString.call(b),"regexp");if(B(b))return c.stylize(Date.prototype.toString.call(b),"date");if(Y(b))return I(b)}var dt,yt="",Wt=!1,Et=["{","}"];return $(b)&&(Wt=!0,Et=["[","]"]),Z(b)&&(yt=" [Function"+(b.name?": "+b.name:"")+"]"),d(b)&&(yt=" "+RegExp.prototype.toString.call(b)),B(b)&&(yt=" "+Date.prototype.toUTCString.call(b)),Y(b)&&(yt=" "+I(b)),pt.length!==0||Wt&&b.length!=0?F<0?d(b)?c.stylize(RegExp.prototype.toString.call(b),"regexp"):c.stylize("[Object]","special"):(c.seen.push(b),dt=Wt?function(ht,tt,St,Lt,Ft){for(var wt=[],$t=0,le=tt.length;$t<le;++$t)qt(tt,String($t))?wt.push(H(ht,tt,St,Lt,String($t),!0)):wt.push("");return Ft.forEach(function(R){R.match(/^\d+$/)||wt.push(H(ht,tt,St,Lt,R,!0))}),wt}(c,b,F,K,pt):pt.map(function(ht){return H(c,b,F,K,ht,Wt)}),c.seen.pop(),function(ht,tt,St){return ht.reduce(function(Lt,Ft){return Ft.indexOf(`
`),Lt+Ft.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?St[0]+(tt===""?"":tt+`
 `)+" "+ht.join(`,
  `)+" "+St[1]:St[0]+tt+" "+ht.join(", ")+" "+St[1]}(dt,yt,Et)):Et[0]+yt+Et[1]}function I(c){return"["+Error.prototype.toString.call(c)+"]"}function H(c,b,F,nt,Ct,pt){var K,ct,dt;if((dt=Object.getOwnPropertyDescriptor(b,Ct)||{value:b[Ct]}).get?ct=dt.set?c.stylize("[Getter/Setter]","special"):c.stylize("[Getter]","special"):dt.set&&(ct=c.stylize("[Setter]","special")),qt(nt,Ct)||(K="["+Ct+"]"),ct||(c.seen.indexOf(dt.value)<0?(ct=x(F)?g(c,dt.value,null):g(c,dt.value,F-1)).indexOf(`
`)>-1&&(ct=pt?ct.split(`
`).map(function(yt){return"  "+yt}).join(`
`).substr(2):`
`+ct.split(`
`).map(function(yt){return"   "+yt}).join(`
`)):ct=c.stylize("[Circular]","special")),a(K)){if(pt&&Ct.match(/^\d+$/))return ct;(K=JSON.stringify(""+Ct)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.substr(1,K.length-2),K=c.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=c.stylize(K,"string"))}return K+": "+ct}function $(c){return Array.isArray(c)}function W(c){return typeof c=="boolean"}function x(c){return c===null}function E(c){return typeof c=="number"}function i(c){return typeof c=="string"}function a(c){return c===void 0}function d(c){return S(c)&&N(c)==="[object RegExp]"}function S(c){return typeof c=="object"&&c!==null}function B(c){return S(c)&&N(c)==="[object Date]"}function Y(c){return S(c)&&(N(c)==="[object Error]"||c instanceof Error)}function Z(c){return typeof c=="function"}function N(c){return Object.prototype.toString.call(c)}function ft(c){return c<10?"0"+c.toString(10):c.toString(10)}f.debuglog=function(c){if(a(k)&&(k=j.env.NODE_DEBUG||""),c=c.toUpperCase(),!L[c])if(new RegExp("\\b"+c+"\\b","i").test(k)){var b=j.pid;L[c]=function(){var F=f.format.apply(f,arguments);console.error("%s %d: %s",c,b,F)}}else L[c]=function(){};return L[c]},f.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=$,f.isBoolean=W,f.isNull=x,f.isNullOrUndefined=function(c){return c==null},f.isNumber=E,f.isString=i,f.isSymbol=function(c){return typeof c=="symbol"},f.isUndefined=a,f.isRegExp=d,f.isObject=S,f.isDate=B,f.isError=Y,f.isFunction=Z,f.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||c===void 0},f.isBuffer=w(384);var mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dt(){var c=new Date,b=[ft(c.getHours()),ft(c.getMinutes()),ft(c.getSeconds())].join(":");return[c.getDate(),mt[c.getMonth()],b].join(" ")}function qt(c,b){return Object.prototype.hasOwnProperty.call(c,b)}f.log=function(){console.log("%s - %s",Dt(),f.format.apply(f,arguments))},f.inherits=w(717),f._extend=function(c,b){if(!b||!S(b))return c;for(var F=Object.keys(b),nt=F.length;nt--;)c[F[nt]]=b[F[nt]];return c}}},ut={};function J(M){var f=ut[M];if(f!==void 0)return f.exports;var w=ut[M]={exports:{}};return at[M].call(w.exports,w,w.exports,J),w.exports}J.n=M=>{var f=M&&M.__esModule?()=>M.default:()=>M;return J.d(f,{a:f}),f},J.d=(M,f)=>{for(var w in f)J.o(f,w)&&!J.o(M,w)&&Object.defineProperty(M,w,{enumerable:!0,get:f[w]})},J.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),J.o=(M,f)=>Object.prototype.hasOwnProperty.call(M,f),J.r=M=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})};var _t={};return(()=>{J.r(_t),J.d(_t,{LSPluginUser:()=>Oe,setupPluginUserInstance:()=>an});var M=J(520);J(856);const f=function(e,n){return e===n||e!=e&&n!=n},w=function(e,n){for(var t=e.length;t--;)if(f(e[t][0],n))return t;return-1};var j=Array.prototype.splice;function y(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(e){var n=this.__data__,t=w(n,e);return!(t<0||(t==n.length-1?n.pop():j.call(n,t,1),--this.size,0))},y.prototype.get=function(e){var n=this.__data__,t=w(n,e);return t<0?void 0:n[t][1]},y.prototype.has=function(e){return w(this.__data__,e)>-1},y.prototype.set=function(e,n){var t=this.__data__,r=w(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this};const k=y,L=typeof ln=="object"&&ln&&ln.Object===Object&&ln;var h=typeof self=="object"&&self&&self.Object===Object&&self;const l=L||h||Function("return this")(),m=l.Symbol;var g=Object.prototype,I=g.hasOwnProperty,H=g.toString,$=m?m.toStringTag:void 0,W=Object.prototype.toString,x=m?m.toStringTag:void 0;const E=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":x&&x in Object(e)?function(n){var t=I.call(n,$),r=n[$];try{n[$]=void 0;var s=!0}catch{}var u=H.call(n);return s&&(t?n[$]=r:delete n[$]),u}(e):function(n){return W.call(n)}(e)},i=function(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")},a=function(e){if(!i(e))return!1;var n=E(e);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},d=l["__core-js_shared__"];var S,B=(S=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",Y=Function.prototype.toString,Z=/^\[object .+?Constructor\]$/,N=Function.prototype,ft=Object.prototype,mt=N.toString,Dt=ft.hasOwnProperty,qt=RegExp("^"+mt.call(Dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const c=function(e){return!(!i(e)||(n=e,B&&B in n))&&(a(e)?qt:Z).test(function(t){if(t!=null){try{return Y.call(t)}catch{}try{return t+""}catch{}}return""}(e));var n},b=function(e,n){var t=function(r,s){return r==null?void 0:r[s]}(e,n);return c(t)?t:void 0},F=b(l,"Map"),nt=b(Object,"create");var Ct=Object.prototype.hasOwnProperty,pt=Object.prototype.hasOwnProperty;function K(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}K.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},K.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},K.prototype.get=function(e){var n=this.__data__;if(nt){var t=n[e];return t==="__lodash_hash_undefined__"?void 0:t}return Ct.call(n,e)?n[e]:void 0},K.prototype.has=function(e){var n=this.__data__;return nt?n[e]!==void 0:pt.call(n,e)},K.prototype.set=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=nt&&n===void 0?"__lodash_hash_undefined__":n,this};const ct=K,dt=function(e,n){var t,r,s=e.__data__;return((r=typeof(t=n))=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null)?s[typeof n=="string"?"string":"hash"]:s.map};function yt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}yt.prototype.clear=function(){this.size=0,this.__data__={hash:new ct,map:new(F||k),string:new ct}},yt.prototype.delete=function(e){var n=dt(this,e).delete(e);return this.size-=n?1:0,n},yt.prototype.get=function(e){return dt(this,e).get(e)},yt.prototype.has=function(e){return dt(this,e).has(e)},yt.prototype.set=function(e,n){var t=dt(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this};const Wt=yt;function Et(e){var n=this.__data__=new k(e);this.size=n.size}Et.prototype.clear=function(){this.__data__=new k,this.size=0},Et.prototype.delete=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},Et.prototype.get=function(e){return this.__data__.get(e)},Et.prototype.has=function(e){return this.__data__.has(e)},Et.prototype.set=function(e,n){var t=this.__data__;if(t instanceof k){var r=t.__data__;if(!F||r.length<199)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Wt(r)}return t.set(e,n),this.size=t.size,this};const ht=Et,tt=function(){try{var e=b(Object,"defineProperty");return e({},"",{}),e}catch{}}(),St=function(e,n,t){n=="__proto__"&&tt?tt(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t},Lt=function(e,n,t){(t!==void 0&&!f(e[n],t)||t===void 0&&!(n in e))&&St(e,n,t)},Ft=function(e,n,t){for(var r=-1,s=Object(e),u=t(e),p=u.length;p--;){var v=u[++r];if(n(s[v],v,s)===!1)break}return e};var wt=G&&!G.nodeType&&G,$t=wt&&!0&&V&&!V.nodeType&&V,le=$t&&$t.exports===wt?l.Buffer:void 0,R=le?le.allocUnsafe:void 0;const P=l.Uint8Array,T=function(e,n){var t,r,s=n?(t=e.buffer,r=new t.constructor(t.byteLength),new P(r).set(new P(t)),r):e.buffer;return new e.constructor(s,e.byteOffset,e.length)};var rt=Object.create;const ot=function(){function e(){}return function(n){if(!i(n))return{};if(rt)return rt(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),Gt=(Pe=Object.getPrototypeOf,re=Object,function(e){return Pe(re(e))});var Pe,re,Re=Object.prototype;const ue=function(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||Re)},Jt=function(e){return e!=null&&typeof e=="object"},De=function(e){return Jt(e)&&E(e)=="[object Arguments]"};var Ue=Object.prototype,un=Ue.hasOwnProperty,fn=Ue.propertyIsEnumerable;const Ae=De(function(){return arguments}())?De:function(e){return Jt(e)&&un.call(e,"callee")&&!fn.call(e,"callee")},Zt=Array.isArray,ze=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},Te=function(e){return e!=null&&ze(e.length)&&!a(e)};var $e=G&&!G.nodeType&&G,fe=$e&&!0&&V&&!V.nodeType&&V,pe=fe&&fe.exports===$e?l.Buffer:void 0;const It=(pe?pe.isBuffer:void 0)||function(){return!1};var He=Function.prototype,de=Object.prototype,he=He.toString,pn=de.hasOwnProperty,dn=he.call(Object),et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var Be=G&&!G.nodeType&&G,Kt=Be&&!0&&V&&!V.nodeType&&V,Tt=Kt&&Kt.exports===Be&&L.process,ge=function(){try{return Kt&&Kt.require&&Kt.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch{}}(),me=ge&&ge.isTypedArray;const qe=me?function(e){return function(n){return e(n)}}(me):function(e){return Jt(e)&&ze(e.length)&&!!et[E(e)]},je=function(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]};var hn=Object.prototype.hasOwnProperty;const We=function(e,n,t){var r=e[n];hn.call(e,n)&&f(r,t)&&(t!==void 0||n in e)||St(e,n,t)};var ke=/^(?:0|[1-9]\d*)$/;const vt=function(e,n){var t=typeof e;return!!(n=n==null?9007199254740991:n)&&(t=="number"||t!="symbol"&&ke.test(e))&&e>-1&&e%1==0&&e<n};var Ge=Object.prototype.hasOwnProperty;const xt=function(e,n){var t=Zt(e),r=!t&&Ae(e),s=!t&&!r&&It(e),u=!t&&!r&&!s&&qe(e),p=t||r||s||u,v=p?function(lt,D){for(var z=-1,q=Array(lt);++z<lt;)q[z]=D(z);return q}(e.length,String):[],C=v.length;for(var A in e)!n&&!Ge.call(e,A)||p&&(A=="length"||s&&(A=="offset"||A=="parent")||u&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||vt(A,C))||v.push(A);return v};var Je=Object.prototype.hasOwnProperty;const Ee=function(e){if(!i(e))return function(s){var u=[];if(s!=null)for(var p in Object(s))u.push(p);return u}(e);var n=ue(e),t=[];for(var r in e)(r!="constructor"||!n&&Je.call(e,r))&&t.push(r);return t},ye=function(e){return Te(e)?xt(e,!0):Ee(e)},Ze=function(e){return function(n,t,r,s){var u=!r;r||(r={});for(var p=-1,v=t.length;++p<v;){var C=t[p],A=s?s(r[C],n[C],C,r,n):void 0;A===void 0&&(A=n[C]),u?St(r,C,A):We(r,C,A)}return r}(e,ye(e))},Fe=function(e,n,t,r,s,u,p){var v,C=je(e,t),A=je(n,t),lt=p.get(A);if(lt)Lt(e,t,lt);else{var D=u?u(C,A,t+"",e,n,p):void 0,z=D===void 0;if(z){var q=Zt(A),Q=!q&&It(A),gt=!q&&!Q&&qe(A);D=A,q||Q||gt?Zt(C)?D=C:Jt(v=C)&&Te(v)?D=function(st,At){var kt=-1,ne=st.length;for(At||(At=Array(ne));++kt<ne;)At[kt]=st[kt];return At}(C):Q?(z=!1,D=function(st,At){if(At)return st.slice();var kt=st.length,ne=R?R(kt):new st.constructor(kt);return st.copy(ne),ne}(A,!0)):gt?(z=!1,D=T(A,!0)):D=[]:function(st){if(!Jt(st)||E(st)!="[object Object]")return!1;var At=Gt(st);if(At===null)return!0;var kt=pn.call(At,"constructor")&&At.constructor;return typeof kt=="function"&&kt instanceof kt&&he.call(kt)==dn}(A)||Ae(A)?(D=C,Ae(C)?D=Ze(C):i(C)&&!a(C)||(D=function(st){return typeof st.constructor!="function"||ue(st)?{}:ot(Gt(st))}(A))):z=!1}z&&(p.set(A,D),s(D,A,r,u,p),p.delete(A)),Lt(e,t,D)}},Ke=function e(n,t,r,s,u){n!==t&&Ft(t,function(p,v){if(u||(u=new ht),i(p))Fe(n,t,v,r,e,s,u);else{var C=s?s(je(n,v),p,v+"",n,t,u):void 0;C===void 0&&(C=p),Lt(n,v,C)}},ye)},Ht=function(e){return e},Vt=function(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)};var ve=Math.max;const Le=tt?function(e,n){return tt(e,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0});var t}:Ht;var Yt=Date.now;const be=function(e){var n=0,t=0;return function(){var r=Yt(),s=16-(r-t);if(t=r,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}(Le),Ve=(Xt=function(e,n,t){Ke(e,n,t)},function(e,n){return be(function(t,r,s){return r=ve(r===void 0?t.length-1:r,0),function(){for(var u=arguments,p=-1,v=ve(u.length-r,0),C=Array(v);++p<v;)C[p]=u[r+p];p=-1;for(var A=Array(r+1);++p<r;)A[p]=u[p];return A[r]=s(C),Vt(t,this,A)}}(e,n,Ht),e+"")}(function(e,n){var t=-1,r=n.length,s=r>1?n[r-1]:void 0,u=r>2?n[2]:void 0;for(s=Xt.length>3&&typeof s=="function"?(r--,s):void 0,u&&function(v,C,A){if(!i(A))return!1;var lt=typeof C;return!!(lt=="number"?Te(A)&&vt(C,A.length):lt=="string"&&C in A)&&f(A[C],v)}(n[0],n[1],u)&&(s=r<3?void 0:s,r=1),e=Object(e);++t<r;){var p=n[t];p&&Xt(e,p,t)}return e}));var Xt,_e=function(){return(_e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)};function Ie(e){return e.toLowerCase()}var oe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Qt=/[^A-Z0-9]+/gi;function Bt(e,n,t){return n instanceof RegExp?e.replace(n,t):n.reduce(function(r,s){return r.replace(s,t)},e)}const Me=navigator.platform.toLowerCase()==="win32"?M.win32:M.posix,ie=function(e,n){return n===void 0&&(n={}),function(t,r){return r===void 0&&(r={}),function(s,u){u===void 0&&(u={});for(var p=u.splitRegexp,v=p===void 0?oe:p,C=u.stripRegexp,A=C===void 0?Qt:C,lt=u.transform,D=lt===void 0?Ie:lt,z=u.delimiter,q=z===void 0?" ":z,Q=Bt(Bt(s,v,"$1\0$2"),A,"\0"),gt=0,st=Q.length;Q.charAt(gt)==="\0";)gt++;for(;Q.charAt(st-1)==="\0";)st--;return Q.slice(gt,st).split("\0").map(D).join(q)}(t,_e({delimiter:"."},r))}(e,_e({delimiter:"_"},n))},Ye=Ve;function se(e,n){let t,r,s=!1;const u=v=>C=>{e&&clearTimeout(e),v(C),s=!0},p=new Promise((v,C)=>{t=u(v),r=u(C),e&&(e=setTimeout(()=>r(new Error(`[deferred timeout] ${n}`)),e))});return{created:Date.now(),setTag:v=>n=v,resolve:t,reject:r,promise:p,get settled(){return s}}}var Xe=J(227),we=J.n(Xe);const Mt="application/x-postmate-v1+json";let Ut=0;const xe={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Ce=(e,n)=>!(typeof n=="string"&&e.origin!==n||!e.data||typeof e.data=="object"&&!("postmate"in e.data)||e.data.type!==Mt||!xe[e.data.postmate]);class te{constructor(n){U(this,"parent");U(this,"frame");U(this,"child");U(this,"events",{});U(this,"childOrigin");U(this,"listener");this.parent=n.parent,this.frame=n.frame,this.child=n.child,this.childOrigin=n.childOrigin,this.listener=t=>{if(!Ce(t,this.childOrigin))return!1;const{data:r,name:s}=((t||{}).data||{}).value||{};t.data.postmate==="emit"&&s in this.events&&this.events[s].forEach(u=>{u.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(n){return new Promise(t=>{const r=++Ut,s=u=>{u.data.uid===r&&u.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),t(u.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:Mt,property:n,uid:r},this.childOrigin)})}call(n,t){this.child.postMessage({postmate:"call",type:Mt,property:n,data:t},this.childOrigin)}on(n,t){this.events[n]||(this.events[n]=[]),this.events[n].push(t)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class gn{constructor(n){U(this,"model");U(this,"parent");U(this,"parentOrigin");U(this,"child");this.model=n.model,this.parent=n.parent,this.parentOrigin=n.parentOrigin,this.child=n.child,this.child.addEventListener("message",t=>{if(!Ce(t,this.parentOrigin))return;const{property:r,uid:s,data:u}=t.data;t.data.postmate!=="call"?((p,v)=>{const C=typeof p[v]=="function"?p[v]():p[v];return Promise.resolve(C)})(this.model,r).then(p=>{t.source.postMessage({property:r,postmate:"reply",type:Mt,uid:s,value:p},t.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](u)})}emit(n,t){this.parent.postMessage({postmate:"emit",type:Mt,value:{name:n,data:t}},this.parentOrigin)}}class ae{constructor(n){U(this,"container");U(this,"parent");U(this,"frame");U(this,"child");U(this,"childOrigin");U(this,"url");U(this,"model");this.container=n.container,this.url=n.url,this.parent=window,this.frame=document.createElement("iframe"),n.id&&(this.frame.id=n.id),n.name&&(this.frame.name=n.name),this.frame.classList.add.apply(this.frame.classList,n.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=n.model||{}}sendHandshake(n){const t=(u=>{const p=document.createElement("a");p.href=u;const v=p.protocol.length>4?p.protocol:window.location.protocol,C=p.host.length?p.port==="80"||p.port==="443"?p.hostname:p.host:window.location.host;return p.origin||`${v}//${C}`})(n=n||this.url);let r,s=0;return new Promise((u,p)=>{const v=A=>!!Ce(A,t)&&(A.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",v,!1),this.childOrigin=A.origin,u(new te(this))):p("Failed handshake"));this.parent.addEventListener("message",v,!1);const C=()=>{s++,this.child.postMessage({postmate:"handshake",type:Mt,model:this.model},t),s===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{C(),r=setInterval(C,500)}),this.frame.src=n})}}U(ae,"debug",!1),U(ae,"Model");class Qe{constructor(n){U(this,"child");U(this,"model");U(this,"parent");U(this,"parentOrigin");this.child=window,this.model=n,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((n,t)=>{const r=s=>{if(s.data.postmate){if(s.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),s.source.postMessage({postmate:"handshake-reply",type:Mt},s.origin),this.parentOrigin=s.origin;const u=s.data.model;return u&&Object.keys(u).forEach(p=>{this.model[p]=u[p]}),n(new gn(this))}return t("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}var tn=J(729),ee=J.n(tn);const{importHTML:Ne,createSandboxContainer:mn}=window.QSandbox||{};function Nt(e,n){return e.startsWith("http")?fetch(e,n):(e=e.replace("file://",""),new Promise(async(t,r)=>{try{const s=await window.apis.doAction(["readFile",e]);t({text:()=>s})}catch(s){console.error(s),r(s)}}))}class en extends ee(){constructor(t){super();U(this,"_pluginLocal");U(this,"_frame");U(this,"_root");U(this,"_loaded",!1);U(this,"_unmountFns",[]);this._pluginLocal=t,t._dispose(()=>{this._unmount()})}async load(){const{name:t,entry:r}=this._pluginLocal.options;if(this.loaded||!r)return;const{template:s,execScripts:u}=await Ne(r,{fetch:Nt});this._mount(s,document.body);const p=mn(t,{elementGetter:()=>{var C;return(C=this._root)==null?void 0:C.firstChild}}).instance.proxy;p.__shadow_mode__=!0,p.LSPluginLocal=this._pluginLocal,p.LSPluginShadow=this,p.LSPluginUser=p.logseq=new Oe(this._pluginLocal.toJSON(),this._pluginLocal.caller);const v=await u(p,!0);this._unmountFns.push(v.unmount),this._loaded=!0}_mount(t,r){const s=this._frame=document.createElement("div");s.classList.add("lsp-shadow-sandbox"),s.id=this._pluginLocal.id,this._root=s.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${t}</div>`,r.appendChild(s),this.emit("mounted")}_unmount(){for(const t of this._unmountFns)t&&t.call(null)}destroy(){var t,r;(r=(t=this.frame)==null?void 0:t.parentNode)==null||r.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var t;return(t=this._root)==null?void 0:t.firstChild}get frame(){return this._frame}}const Pt=we()("LSPlugin:caller"),ce="#await#response#",nn="#lspmsg#error#",zt=e=>`#lspmsg#${e}`;class Rt extends ee(){constructor(t){super();U(this,"_pluginLocal");U(this,"_connected",!1);U(this,"_parent");U(this,"_child");U(this,"_shadow");U(this,"_status");U(this,"_userModel",{});U(this,"_call");U(this,"_callUserModel");U(this,"_debugTag","");this._pluginLocal=t,t&&(this._debugTag=t.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:t}=this._pluginLocal;t?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(t={}){var lt;if(this._connected)return;const r=this,s=this._pluginLocal!=null;let u=0;const p=new Map,v=se(5e3),C=this._extendUserModel(bn({"#lspmsg#ready#":async D=>{C[zt(D==null?void 0:D.pid)]=({type:z,payload:q})=>{Pt(`[host (_call) -> *user] ${this._debugTag}`,z,q),r.emit(z,q)},await v.resolve()},"#lspmsg#beforeunload#":async D=>{const z=se(1e4);r.emit("beforeunload",Object.assign({actor:z},D)),await z.promise},"#lspmsg#settings#":async({type:D,payload:z})=>{r.emit("settings:changed",z)},"#lspmsg#":async({ns:D,type:z,payload:q})=>{Pt(`[host (async) -> *user] ${this._debugTag} ns=${D} type=${z}`,q),D&&D.startsWith("hook")?r.emit(`${D}:${z}`,q):r.emit(z,q)},"#lspmsg#reply#":({_sync:D,result:z})=>{if(Pt(`[sync host -> *user] #${D}`,z),p.has(D)){const q=p.get(D);q&&(z!=null&&z.hasOwnProperty(nn)?q.reject(z[nn]):q.resolve(z),p.delete(D))}}},t));if(s)return await v.promise,JSON.parse(JSON.stringify((lt=this._pluginLocal)==null?void 0:lt.toJSON()));const A=new Qe(C).sendHandshakeReply();return this._status="pending",await A.then(D=>{this._child=D,this._connected=!0,this._call=async(z,q={},Q)=>{if(Q){const gt=++u;p.set(gt,Q),q._sync=gt,Q.setTag(`async call #${gt}`),Pt(`async call #${gt}`)}return D.emit(zt(C.baseInfo.id),{type:z,payload:q}),Q==null?void 0:Q.promise},this._callUserModel=async(z,q)=>{try{C[z](q)}catch{Pt(`[model method] #${z} not existed`)}},setInterval(()=>{if(p.size>100)for(const[z,q]of p)q.settled&&p.delete(z)},18e5)}).finally(()=>{this._status=void 0}),await v.promise,C.baseInfo}async call(t,r={}){var s;return(s=this._call)==null?void 0:s.call(this,t,r)}async callAsync(t,r={}){var u;const s=se(1e4);return(u=this._call)==null?void 0:u.call(this,t,r,s)}async callUserModel(t,r={}){var s;return(s=this._callUserModel)==null?void 0:s.call(this,t,r)}async _setupIframeSandbox(){var lt;const t=this._pluginLocal,r=t.id,s=`${r}_lsp_main`,u=new URL(t.options.entry);u.searchParams.set("__v__",t.options.version);const p=document.querySelector(`#${s}`);p&&p.parentElement.removeChild(p);const v=document.createElement("div");v.classList.add("lsp-iframe-sandbox-container"),v.id=s,v.dataset.pid=r;try{const D=(lt=await this._pluginLocal._loadLayoutsData())==null?void 0:lt.$$0;if(D){v.dataset.inited_layout="true";const{width:z,height:q,left:Q,top:gt}=D;Object.assign(v.style,{width:z+"px",height:q+"px",left:Q+"px",top:gt+"px"})}}catch(D){console.error("[Restore Layout Error]",D)}document.body.appendChild(v);let C,A=new ae({id:r+"_iframe",container:v,url:u.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(t.toJSON()))}}).sendHandshake();return this._status="pending",new Promise((D,z)=>{C=setTimeout(()=>{z(new Error("handshake Timeout"))},3e3),A.then(q=>{this._parent=q,this._connected=!0,this.emit("connected"),q.on(zt(t.id),({type:Q,payload:gt})=>{var st;Pt("[user -> *host] ",Q,gt),(st=this._pluginLocal)==null||st.emit(Q,gt||{})}),this._call=async(...Q)=>{await q.call(zt(t.id),{type:Q[0],payload:Object.assign(Q[1]||{},{$$pid:t.id})})},this._callUserModel=async(Q,gt)=>{if(Q.startsWith(ce))return await q.get(Q.replace(ce,""));q.call(Q,gt)},D(null)}).catch(q=>{z(q)}).finally(()=>{clearTimeout(C)})}).catch(D=>{throw Pt("[iframe sandbox] error",D),D}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const t=this._pluginLocal,r=this._shadow=new en(t);try{this._status="pending",await r.load(),this._connected=!0,this.emit("connected"),this._call=async(s,u={},p)=>{var v;return p&&(u.actor=p),(v=this._pluginLocal)==null||v.emit(s,Object.assign(u,{$$pid:t.id})),p==null?void 0:p.promise},this._callUserModel=async(...s)=>{let u=s[0];u!=null&&u.startsWith(ce)&&(u=u.replace(ce,""));const p=s[1]||{},v=this._userModel[u];typeof v=="function"&&await v.call(null,p)}}catch(s){throw Pt("[shadow sandbox] error",s),s}finally{this._status=void 0}}_extendUserModel(t){return Object.assign(this._userModel,t)}_getSandboxIframeContainer(){var t;return(t=this._parent)==null?void 0:t.frame.parentNode}_getSandboxShadowContainer(){var t;return(t=this._shadow)==null?void 0:t.frame.parentNode}_getSandboxIframeRoot(){var t;return(t=this._parent)==null?void 0:t.frame}_getSandboxShadowRoot(){var t;return(t=this._shadow)==null?void 0:t.frame}set debugTag(t){this._debugTag=t}async destroy(){let t=null;this._parent&&(t=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(t=this._getSandboxShadowContainer(),this._shadow.destroy()),t==null||t.parentNode.removeChild(t)}}class rn{constructor(n){U(this,"ctx");this.ctx=n}get ctxId(){return this.ctx.baseInfo.id}setItem(n,t){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,n,t]})}getItem(n){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,n]})}removeItem(n){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,n]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(n){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,n]})}}class on{constructor(n){U(this,"ctx");this.ctx=n}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(n,...t){var s,u;const r=this.ensureHostScope();return n=(s=ie(n))==null?void 0:s.toLowerCase(),(u=r.logseq.api["exper_"+n])==null?void 0:u.apply(r,t)}async loadScripts(...n){(n=n.map(t=>t!=null&&t.startsWith("http")?t:this.ctx.resolveResourceFullUrl(t))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...n)}registerFencedCodeRenderer(n,t){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,n,t)}registerExtensionsEnhancer(n,t){const r=this.ensureHostScope();switch(n){case"katex":r.katex&&t(r.katex).catch(console.error)}return r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,n,t)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const sn=Symbol.for("proxy-continue"),yn=we()("LSPlugin:user");function o(e,n,t){var A;if(typeof t!="function")return!1;const{key:r,label:s,desc:u,palette:p,keybinding:v}=n,C=`SimpleCommandHook${r}${++X}`;this.Editor["on"+C](t),(A=this.caller)==null||A.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:r,label:s,type:e,desc:u,keybinding:v},["editor/hook",C]],p]})}let O=null;const _={async getInfo(e){return O||(O=await this._execCallableAPIAsync("get-app-info")),typeof e=="string"?O[e]:O},registerCommand:o,registerCommandPalette(e,n){const{key:t,label:r,keybinding:s}=e;return o.call(this,"$palette$",{key:t,label:r,palette:!0,keybinding:s},n)},registerCommandShortcut(e,n){const{binding:t}=e,r="$shortcut$",s=r+ie(t);return o.call(this,r,{key:s,palette:!1,keybinding:e},n)},registerUIItem(e,n){var r;const t=this.baseInfo.id;(r=this.caller)==null||r.call("api:call",{method:"register-plugin-ui-item",args:[t,e,n]})},registerPageMenuItem(e,n){if(typeof n!="function")return!1;const t=e+"_"+this.baseInfo.id,r=e;o.call(this,"page-menu-item",{key:t,label:r},n)},setFullScreen(e){const n=(...t)=>this._callWin("setFullScreen",...t);e==="toggle"?this._callWin("isFullScreen").then(t=>{t?n():n(!0)}):e?n(!0):n()}};let X=0;const it={registerSlashCommand(e,n){var t;yn("Register slash command #",this.baseInfo.id,e,n),typeof n=="function"&&(n=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",n]]),n=n.map(r=>{const[s,...u]=r;switch(s){case"editor/hook":let p=u[0],v=()=>{var A;(A=this.caller)==null||A.callUserModel(p)};typeof p=="function"&&(v=p);const C=`SlashCommandHook${s}${++X}`;r[1]=C,this.Editor["on"+C](v)}return r}),(t=this.caller)==null||t.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[e,n]]})},registerBlockContextMenuItem(e,n){if(typeof n!="function")return!1;const t=e+"_"+this.baseInfo.id,r=e;o.call(this,"block-context-menu-item",{key:t,label:r},n)},scrollToBlockInPage(e,n,t){const r="block-content-"+n;t!=null&&t.replaceState?this.App.replaceState("page",{name:e},{anchor:r}):this.App.pushState("page",{name:e},{anchor:r})}},Ot={onBlockChanged(e,n){const t=this.baseInfo.id,r=`hook:db:${ie(`block:${e}`)}`,s=({block:u,txData:p,txMeta:v})=>{u.uuid===e&&n(u,p,v)};return this.caller.on(r,s),this.App._installPluginHook(t,r),()=>{this.caller.off(r,s),this.App._uninstallPluginHook(t,r)}}},bt={},Se={},jt={};class Oe extends ee(){constructor(t,r){super();U(this,"_baseInfo");U(this,"_caller");U(this,"_version","0.0.6");U(this,"_debugTag","");U(this,"_settingsSchema");U(this,"_connected",!1);U(this,"_ui",new Map);U(this,"_mFileStorage");U(this,"_mExperiments");U(this,"_beforeunloadCallback");this._baseInfo=t,this._caller=r,r.on("sys:ui:visible",s=>{s!=null&&s.toggle&&this.toggleMainUI()}),r.on("settings:changed",s=>{const u=Object.assign({},this.settings),p=Object.assign(this._baseInfo.settings,s);this.emit("settings:changed",bn({},p),u)}),r.on("beforeunload",async s=>{const C=s,{actor:u}=C,p=xn(C,["actor"]),v=this._beforeunloadCallback;try{v&&await v(p),u==null||u.resolve(null)}catch(A){console.debug(`${r.debugTag} [beforeunload] `,A),u==null||u.reject(A)}})}async ready(t,r){if(!this._connected)try{typeof t=="function"&&(r=t,t={});let s=await this._caller.connectToParent(t);this._connected=!0,s=Ye(this._baseInfo,s),this._settingsSchema&&(s.settings=function(u,p){const v=(p||[]).reduce((C,A)=>("default"in A&&(C[A.key]=A.default),C),{});return Object.assign(v,u)}(s.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),s!=null&&s.id&&(this._debugTag=this._caller.debugTag=`#${s.id} [${s.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(u){console.warn(u)}r&&r.call(this,s)}catch(s){console.error(`${this._debugTag} [Ready Error]`,s)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(t){typeof t=="function"&&(this._beforeunloadCallback=t)}provideModel(t){return this.caller._extendUserModel(t),this}provideTheme(t){return this.caller.call("provider:theme",t),this}provideStyle(t){return this.caller.call("provider:style",t),this}provideUI(t){return this.caller.call("provider:ui",t),this}useSettingsSchema(t){return this.connected&&this.caller.call("settings:schema",{schema:t,isSync:!0}),this._settingsSchema=t,this}updateSettings(t){this.caller.call("settings:update",t)}onSettingsChanged(t){const r="settings:changed";return this.on(r,t),()=>this.off(r,t)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(t){this.caller.call("main-ui:attrs",t)}setMainUIInlineStyle(t){this.caller.call("main-ui:style",t)}hideMainUI(t){const r={key:0,visible:!1,cursor:t==null?void 0:t.restoreEditingCursor};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}showMainUI(t){const r={key:0,visible:!0,autoFocus:t==null?void 0:t.autoFocus};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}toggleMainUI(){const t=this._ui.get(0);t&&t.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const t=this._ui.get(0);return Boolean(t&&t.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){var t;return(t=this.baseInfo)==null?void 0:t.settings}get caller(){return this._caller}resolveResourceFullUrl(t){if(this.ensureConnected(),t)return t=t.replace(/^[.\\/]+/,""),function(r,...s){try{const u=new URL(r);if(!u.origin)throw new Error(null);const p=Me.join(r.substr(u.origin.length),...s);return u.origin+p}catch{return Me.join(r,...s)}}(this._baseInfo.lsr,t)}_makeUserProxy(t,r){const s=this,u=this.caller;return new Proxy(t,{get(p,v,C){const A=p[v];return function(...lt){if(A){const z=A.apply(s,lt.concat(r));if(z!==sn)return z}if(r){const z=v.toString().match(/^(once|off|on)/i);if(z!=null){const q=z[0].toLowerCase(),Q=z.input.slice(q.length),gt=q==="off",st=s.baseInfo.id,At=`hook:${r}:${ie(Q)}`,kt=lt[0];u[q](At,kt);const ne=()=>{u.off(At,kt),u.listenerCount(At)||s.App._uninstallPluginHook(st,At)};return gt?void ne():(s.App._installPluginHook(st,At),ne)}}let D=v;return["git","ui","assets"].includes(r)&&(D=r+"_"+D),u.callAsync("api:call",{tag:r,method:D,args:lt})}}})}_execCallableAPIAsync(t,...r){return this._caller.callAsync("api:call",{method:t,args:r})}_execCallableAPI(t,...r){this._caller.call("api:call",{method:t,args:r})}_callWin(...t){return this._execCallableAPIAsync("_callMainWin",...t)}get App(){return this._makeUserProxy(_,"app")}get Editor(){return this._makeUserProxy(it,"editor")}get DB(){return this._makeUserProxy(Ot,"db")}get Git(){return this._makeUserProxy(bt,"git")}get UI(){return this._makeUserProxy(Se,"ui")}get Assets(){return this._makeUserProxy(jt,"assets")}get FileStorage(){let t=this._mFileStorage;return t||(t=this._mFileStorage=new rn(this)),t}get Experiments(){let t=this._mExperiments;return t||(t=this._mExperiments=new on(this)),t}}function an(e,n){return new Oe(e,n)}if(window.__LSP__HOST__==null){const e=new Rt(null);window.logseq=an({},e)}})(),_t})()})})(Cn,Cn.exports);const An=[{key:"language",type:"string",title:"Language to use for definitions",description:"What language do you want to default to when defining?",default:"en"}],Tn=/[\[\]]/g;async function jn(){logseq.Editor.registerSlashCommand("Define",async()=>{var ut,J;const V=await logseq.Editor.getCurrentBlock();if(!V)return;let G=await logseq.Editor.getEditingBlockContent();G=G.replaceAll(Tn,"");const at=(J=(ut=logseq.settings)==null?void 0:ut.language)!=null?J:"en";try{const M=await(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/${at}/${G}`)).json();if(console.log(M),M.message)throw new Error("word not found");const f=M[0].phonetics.find(y=>y.audio),j=[f?{content:"phonetic",children:[{content:`${f.text}
<audio controls><source src="${f.audio}"></audio>`}]}:{content:"phonetic",children:[{content:M[0].phonetic}]}].concat(M[0].meanings.map(y=>({content:y.partOfSpeech,children:y.definitions.map(k=>({content:k.definition}))})));await logseq.Editor.insertBatchBlock(V.uuid,j,{sibling:!1})}catch(_t){logseq.UI.showMsg(`error defining word ${G}: ${_t}`,"error")}})}logseq.useSettingsSchema(An);logseq.ready(jn).catch(()=>console.error);
